module memory
#(
	mem_Width 	= 8;
	mem_depth 	= 65535;
	mem_address = 16
)	
(
	input 								clk,
	input 								we,
	input 	 [mem_address-1:0]	address,
	inout reg [mem_Width-1:0]		data
);


reg [mem_Width-1:0] ram [0:mem_depth-1];


initial begin
	$readmemh("program.bin", ram);
end


always@(posedge clk) begin
	if(we) 	ram[address] <= data;
	else  	data <= ram[address];
end

endmodule